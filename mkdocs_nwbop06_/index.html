<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" /><link rel="canonical" href="http://127.0.0.1:8000/pyshbundle/" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>pyshbundle</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = "/pyshbundle/";
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> pyshbundle
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#features">Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-install">How to install </a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-download-data">How to download data</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#mathematics">Mathematics</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#credits">Credits</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="usage/">Usage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="contributing/">Contributing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="faq/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="changelog/">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/mn5hk/pyshbundle/issues">Report Issues</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="pyshbundle/">pyshbundle module</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">pyshbundle</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/abhimhamane/pyshbundle/edit/master/docs/index.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="welcome-to-pyshbundle">Welcome to PySHbundle<a class="headerlink" href="#welcome-to-pyshbundle" title="Permanent link">&para;</a></h1>
<p><a href="https://pypi.python.org/pypi/pyshbundle"><img alt="image" src="https://img.shields.io/pypi/v/pyshbundle.svg" /></a></p>
<p><strong>PySHbundle: A Python implementation of MATLAB codes SHbundle</strong></p>
<ul>
<li>Free software: GNU General Public License v3</li>
<li>Documentation: <a href="https://mn5hk.github.io/pyshbundle">https://mn5hk.github.io/pyshbundle</a></li>
</ul>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<ul>
<li>TODO</li>
</ul>
<h2 id="how-to-install">How to install <br><a class="headerlink" href="#how-to-install" title="Permanent link">&para;</a></h2>
<p>We recommend using Mamba to install required packages <br>
<code>conda create pysh</code> <br>
<code>conda activate pysh</code> <br>
<code>conda install -c conda-forge mamba</code> <br>
<code>mamba install -c conda-forge numpy pandas netCDF4 scipy xarray julian scipy geopandas matplotlib rasterio salem shapely</code> <br></p>
<p>Convert <a href="https://www.gis.uni-stuttgart.de/en/research/downloads/shbundle/">SHbundle matlab codes</a> to python<br>
<a href="https://ultra-pluto-7f6d1.netlify.app/">Geodesy for Earth system science (GESS) research Group at ICWaR, IISc</a>
<img alt="" src="https://visitor-badge.glitch.me/badge?page_id=mn5hk.mat2py" /></p>
<p>Currently we are upgrading (under process) the package to be implementable on binder. 
<a href="https://mybinder.org/v2/gh/mn5hk/pyshbundle/HEAD"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a></p>
<h2 id="how-to-download-data">How to download data<a class="headerlink" href="#how-to-download-data" title="Permanent link">&para;</a></h2>
<h3 id="mathematics">Mathematics<a class="headerlink" href="#mathematics" title="Permanent link">&para;</a></h3>
<p>In this section, we present a mathematical representation of the spherical harmonics analysis. According to potential theory, the gravitational field of a body fulfils the Laplace equation <span class="arithmatex">\(\nabla^2\phi = 0\)</span>. Laplace's equation in spherical coordinates can be written as follows: </p>
<div class="arithmatex">\[\begin{equation}
    \frac{1}{r^2}\frac{\partial}{\partial r}\bigg( r^2\frac{\partial \phi}{\partial r}\bigg)  
    +
    \frac{1}{r^2\sin\vartheta}\frac{\partial}{\partial \vartheta}\bigg(\sin\vartheta\frac{\partial \phi}{\partial \vartheta}\bigg) 
    +
    \frac{1}{r^2\sin^2\vartheta}\frac{\partial^2 \phi}{\partial \lambda^2}
    = 0 ,
\end{equation}\]</div>
<p>where 
<span class="arithmatex">\(\phi\)</span> is the potential, 
<span class="arithmatex">\(r\)</span> is the radius, 
<span class="arithmatex">\(\vartheta\)</span> is the co-latitude and 
<span class="arithmatex">\(\lambda\)</span> is the longitude. </p>
<p>We perform a separation of variables and insert <span class="arithmatex">\(\phi(r, \vartheta, \lambda) =f(r)g(\vartheta)h(\lambda)\)</span> into the Laplace equation to get three independent equations:</p>
<div class="arithmatex">\[\begin{equation}
r^2\frac{d^2f}{dr^2}+2r\frac{df}{dr} - n(n+1)f = 0,
\end{equation}\]</div>
<div class="arithmatex">\[\begin{equation}
\frac{d^2g}{d\vartheta^2}
+
\frac{dg}{d\vartheta}\cot\vartheta
+
\bigg(  n(n+1) - \frac{m^2}{\sin^2\vartheta}   \bigg) g = 0 ,
\end{equation}\]</div>
<div class="arithmatex">\[\begin{equation}
\frac{d^2h}{d\lambda^2} + m^2h = 0,
\end{equation}\]</div>
<p>where <span class="arithmatex">\(m\)</span> and <span class="arithmatex">\(n\)</span> are the degree and order respectively. Solving <span class="arithmatex">\((2), (3)\)</span> and <span class="arithmatex">\((4)\)</span>, we obtain: </p>
<div class="arithmatex">\[\begin{equation}
f(r) \in \{r^n, r^{-(n+1)}\},
\end{equation}\]</div>
<div class="arithmatex">\[\begin{equation}
g(\vartheta) \in \{P_{n,m}(\cos \vartheta), Q_{n,m}(\cos \vartheta)\} ,
\end{equation}\]</div>
<p>\begin{equation}
h(\lambda) \in {\cos m\lambda, \sin m\lambda}.
\end{equation}\</p>
<p>Thus, the Laplace equation's solution takes the following form: </p>
<div class="arithmatex">\[\begin{equation}
\phi(r, \vartheta, \lambda) = \sum_{n=0}^{\infty} \sum_{m=0}^{n} 
\alpha_{n,m}
\begin{Bmatrix}
P_{n,m}(\cos\vartheta)\\
Q_{n,m}(\cos\vartheta)\\
\end{Bmatrix}
\dot{•}
\begin{Bmatrix}
\cos m\lambda\\
\sin m\lambda\\
\end{Bmatrix}
\dot{•}
\begin{Bmatrix}
r^n\\
r^{(n+1)}\\
\end{Bmatrix}
.
\end{equation}\]</div>
<p>Solutions for <span class="arithmatex">\(f(r)\)</span> and <span class="arithmatex">\(h(\lambda)\)</span> are fairly straightforward. Eq - (3) for <span class="arithmatex">\(g(\vartheta)\)</span> is in the form of a Legendre differential equation and its solutions are <span class="arithmatex">\(P_{n,m}(\cos \vartheta)\)</span> and <span class="arithmatex">\(Q_{n,m}(\cos \vartheta)\)</span>, the associated Legendre functions of the first and second kind. We now apply two constraints to the solution:</p>
<ul>
<li><span class="arithmatex">\(\phi \rightarrow 0\)</span> when <span class="arithmatex">\(r \rightarrow \infty\)</span>,</li>
<li><span class="arithmatex">\(\phi\)</span> is limited on the sphere,</li>
</ul>
<p>which leads us to eliminate <span class="arithmatex">\(Q_{n,m}(\cos \vartheta)\)</span> and <span class="arithmatex">\(r^n\)</span>.The <span class="arithmatex">\(4\pi\)</span> normalization of the Associated Legendre functions [8] is utilized in our package and is given by: </p>
<div class="arithmatex">\[\begin{equation}
\bar{P}_{n,m}(\cos\vartheta) = P_{n,m}(\cos\vartheta)\sqrt{(2-\delta_{m0})(2n+1)\frac{(n-m)!}{(n+m)!}},
\end{equation}\]</div>
<p>where <span class="arithmatex">\(\delta_{m0}\)</span> is the Kronecker delta function,</p>
<div class="arithmatex">\[\begin{equation}
P_{n,m}(t) = (1-t^2)^{\frac{m}{2}}\frac{d^mP_n(t)}{dt^m},
\end{equation}\]</div>
<p>and </p>
<div class="arithmatex">\[\begin{equation}
nP_n(t)=-(n-1)P_{n-2}(t) + (2n-1)tP_{n-1}(t).
\end{equation}\]</div>
<p>Spherical harmonics are the angular portion of a set of solutions to Laplace's equation. They take into account <span class="arithmatex">\(\vartheta\)</span> and <span class="arithmatex">\(\lambda\)</span>. They are functions modelled on the surface of a sphere, denoted by <span class="arithmatex">\(Y_{n,m}(\vartheta,\lambda)\)</span>. They are of three kinds: </p>
<ul>
<li>Zonal harmonics: <span class="arithmatex">\(m=0\)</span> - they are only latitude dependent,</li>
<li>Tesseral harmonics: <span class="arithmatex">\(0 &lt; m &lt; n\)</span>, and </li>
<li>Sectorial harmonics: <span class="arithmatex">\(m=n\)</span>.</li>
</ul>
<p>Quantities like the gravitational potential, height of water column, gravity anomaly and so on are the functionals of the gravity field which are obtained by differentiating the potential <span class="arithmatex">\(\phi\)</span> with respect to the spherical coordinates. </p>
<p>The gravitational potential anomaly <span class="arithmatex">\(V\)</span> is given by:</p>
<div class="arithmatex">\[\begin{equation}
    V(r, \vartheta, \lambda) = 
    \frac{GM}{r} \sum_{n=0} ^{N_{max}} \sum_{m=0} ^{n} 
    \left(\frac{R}{r}\right) ^{n+1}
    \bar{P}_{n,m}(\cos \vartheta) [C_{n,m}\cos m\lambda+S_{n,m}\sin m\lambda].
\end{equation}\]</div>
<p>Here, <span class="arithmatex">\(R\)</span> refers to the radius of the Earth,
<span class="arithmatex">\(\bar{P}_ {n,m}\)</span> refers to the Associated Legendre functions with <span class="arithmatex">\(4\pi\)</span> normalization,
<span class="arithmatex">\(C_{lm}\)</span> and  <span class="arithmatex">\(S_{lm}\)</span> refer to the spherical harmonic coefficients. Similarly, another functional, the change in surface mass density, is represented by:</p>
<div class="arithmatex">\[\begin{equation}
    \Delta\sigma(\vartheta, \lambda) = 
    \frac{a\rho_{ave}}{3} 
    \sum_{n=0}^{N_{max}}\sum_{m=0}^{n} 
    \left(\frac{R}{r}\right)^{n+1} 
    \bar{P}_{n,m}(\cos\vartheta)
    \frac{2n+1}{1+k_l}
    [C_{n,m}\cos m\lambda + S_{n,m}\sin m\lambda],
\end{equation}\]</div>
<p>where
<span class="arithmatex">\(\rho_{ave}\)</span> refers to the average density of the Earth in <span class="arithmatex">\(g/cm^3\)</span> and
<span class="arithmatex">\(k_n\)</span> refers to the load Love number of degree <span class="arithmatex">\(n\)</span>.</p>
<h2 id="credits">Credits<a class="headerlink" href="#credits" title="Permanent link">&para;</a></h2>
<p>This package was created with <a href="https://github.com/cookiecutter/cookiecutter">Cookiecutter</a> and the <a href="https://github.com/giswqs/pypackage">giswqs/pypackage</a> project template.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="installation/" class="btn btn-neutral float-right" title="Installation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/abhimhamane/pyshbundle" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="installation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.4.2
Build Date UTC : 2023-04-23 22:14:05.143956+00:00
-->
